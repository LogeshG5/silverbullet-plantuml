var Et=Object.create;var rt=Object.defineProperty;var Pt=Object.getOwnPropertyDescriptor;var St=Object.getOwnPropertyNames;var At=Object.getPrototypeOf,Ct=Object.prototype.hasOwnProperty;var Ue=(D=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(D,{get:(R,Q)=>(typeof require<"u"?require:R)[Q]}):D)(function(D){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+D+'" is not supported')});var nt=(D,R)=>()=>(R||D((R={exports:{}}).exports,R),R.exports),dt=(D,R)=>{for(var Q in R)rt(D,Q,{get:R[Q],enumerable:!0})},Tt=(D,R,Q,k)=>{if(R&&typeof R=="object"||typeof R=="function")for(let C of St(R))!Ct.call(D,C)&&C!==Q&&rt(D,C,{get:()=>R[C],enumerable:!(k=Pt(R,C))||k.enumerable});return D};var zt=(D,R,Q)=>(Q=D!=null?Et(At(D)):{},Tt(R||!D||!D.__esModule?rt(Q,"default",{value:D,enumerable:!0}):Q,D));var vt=nt((_t,lt)=>{(function(D){if(typeof _t=="object"&&typeof lt<"u")lt.exports=D();else if(typeof define=="function"&&define.amd)define([],D);else{var R;typeof window<"u"?R=window:typeof global<"u"?R=global:typeof self<"u"?R=self:R=this,R.plantumlEncoder=D()}})(function(){var D,R,Q;return function(){function k(C,g,p){function T(l,c){if(!g[l]){if(!C[l]){var f=typeof Ue=="function"&&Ue;if(!c&&f)return f(l,!0);if(y)return y(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var a=g[l]={exports:{}};C[l][0].call(a.exports,function(m){var w=C[l][1][m];return T(w||m)},a,a.exports,k,C,g,p)}return g[l].exports}for(var y=typeof Ue=="function"&&Ue,u=0;u<p.length;u++)T(p[u]);return T}return k}()({1:[function(k,C,g){"use strict";var p=k("pako/lib/deflate.js");C.exports=function(T){return p.deflateRaw(T,{level:9,to:"string"})}},{"pako/lib/deflate.js":4}],2:[function(k,C,g){"use strict";function p(y){return y<10?String.fromCharCode(48+y):(y-=10,y<26?String.fromCharCode(65+y):(y-=26,y<26?String.fromCharCode(97+y):(y-=26,y===0?"-":y===1?"_":"?")))}function T(y,u,l){var c=y>>2,f=(y&3)<<4|u>>4,h=(u&15)<<2|l>>6,a=l&63,m="";return m+=p(c&63),m+=p(f&63),m+=p(h&63),m+=p(a&63),m}C.exports=function(y){for(var u="",l=0;l<y.length;l+=3)l+2===y.length?u+=T(y.charCodeAt(l),y.charCodeAt(l+1),0):l+1===y.length?u+=T(y.charCodeAt(l),0,0):u+=T(y.charCodeAt(l),y.charCodeAt(l+1),y.charCodeAt(l+2));return u}},{}],3:[function(k,C,g){"use strict";var p=k("./deflate"),T=k("./encode64");C.exports.encode=function(y){var u=p(y);return T(u)}},{"./deflate":1,"./encode64":2}],4:[function(k,C,g){"use strict";var p=k("./zlib/deflate"),T=k("./utils/common"),y=k("./utils/strings"),u=k("./zlib/messages"),l=k("./zlib/zstream"),c=Object.prototype.toString,f=0,h=4,a=0,m=1,w=2,A=-1,P=0,S=8;function I(X){if(!(this instanceof I))return new I(X);this.options=T.assign({level:A,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:P,to:""},X||{});var M=this.options;M.raw&&M.windowBits>0?M.windowBits=-M.windowBits:M.gzip&&M.windowBits>0&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var H=p.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(H!==a)throw new Error(u[H]);if(M.header&&p.deflateSetHeader(this.strm,M.header),M.dictionary){var W;if(typeof M.dictionary=="string"?W=y.string2buf(M.dictionary):c.call(M.dictionary)==="[object ArrayBuffer]"?W=new Uint8Array(M.dictionary):W=M.dictionary,H=p.deflateSetDictionary(this.strm,W),H!==a)throw new Error(u[H]);this._dict_set=!0}}I.prototype.push=function(X,M){var H=this.strm,W=this.options.chunkSize,U,z;if(this.ended)return!1;z=M===~~M?M:M===!0?h:f,typeof X=="string"?H.input=y.string2buf(X):c.call(X)==="[object ArrayBuffer]"?H.input=new Uint8Array(X):H.input=X,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new T.Buf8(W),H.next_out=0,H.avail_out=W),U=p.deflate(H,z),U!==m&&U!==a)return this.onEnd(U),this.ended=!0,!1;(H.avail_out===0||H.avail_in===0&&(z===h||z===w))&&(this.options.to==="string"?this.onData(y.buf2binstring(T.shrinkBuf(H.output,H.next_out))):this.onData(T.shrinkBuf(H.output,H.next_out)))}while((H.avail_in>0||H.avail_out===0)&&U!==m);return z===h?(U=p.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===a):(z===w&&(this.onEnd(a),H.avail_out=0),!0)},I.prototype.onData=function(X){this.chunks.push(X)},I.prototype.onEnd=function(X){X===a&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=X,this.msg=this.strm.msg};function le(X,M){var H=new I(M);if(H.push(X,!0),H.err)throw H.msg||u[H.err];return H.result}function Z(X,M){return M=M||{},M.raw=!0,le(X,M)}function N(X,M){return M=M||{},M.gzip=!0,le(X,M)}g.Deflate=I,g.deflate=le,g.deflateRaw=Z,g.gzip=N},{"./utils/common":5,"./utils/strings":6,"./zlib/deflate":9,"./zlib/messages":10,"./zlib/zstream":12}],5:[function(k,C,g){"use strict";var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function T(l,c){return Object.prototype.hasOwnProperty.call(l,c)}g.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var f=c.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var h in f)T(f,h)&&(l[h]=f[h])}}return l},g.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var y={arraySet:function(l,c,f,h,a){if(c.subarray&&l.subarray){l.set(c.subarray(f,f+h),a);return}for(var m=0;m<h;m++)l[a+m]=c[f+m]},flattenChunks:function(l){var c,f,h,a,m,w;for(h=0,c=0,f=l.length;c<f;c++)h+=l[c].length;for(w=new Uint8Array(h),a=0,c=0,f=l.length;c<f;c++)m=l[c],w.set(m,a),a+=m.length;return w}},u={arraySet:function(l,c,f,h,a){for(var m=0;m<h;m++)l[a+m]=c[f+m]},flattenChunks:function(l){return[].concat.apply([],l)}};g.setTyped=function(l){l?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,y)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,u))},g.setTyped(p)},{}],6:[function(k,C,g){"use strict";var p=k("./common"),T=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{T=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var u=new p.Buf8(256),l=0;l<256;l++)u[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;u[254]=u[254]=1,g.string2buf=function(f){var h,a,m,w,A,P=f.length,S=0;for(w=0;w<P;w++)a=f.charCodeAt(w),(a&64512)===55296&&w+1<P&&(m=f.charCodeAt(w+1),(m&64512)===56320&&(a=65536+(a-55296<<10)+(m-56320),w++)),S+=a<128?1:a<2048?2:a<65536?3:4;for(h=new p.Buf8(S),A=0,w=0;A<S;w++)a=f.charCodeAt(w),(a&64512)===55296&&w+1<P&&(m=f.charCodeAt(w+1),(m&64512)===56320&&(a=65536+(a-55296<<10)+(m-56320),w++)),a<128?h[A++]=a:a<2048?(h[A++]=192|a>>>6,h[A++]=128|a&63):a<65536?(h[A++]=224|a>>>12,h[A++]=128|a>>>6&63,h[A++]=128|a&63):(h[A++]=240|a>>>18,h[A++]=128|a>>>12&63,h[A++]=128|a>>>6&63,h[A++]=128|a&63);return h};function c(f,h){if(h<65534&&(f.subarray&&y||!f.subarray&&T))return String.fromCharCode.apply(null,p.shrinkBuf(f,h));for(var a="",m=0;m<h;m++)a+=String.fromCharCode(f[m]);return a}g.buf2binstring=function(f){return c(f,f.length)},g.binstring2buf=function(f){for(var h=new p.Buf8(f.length),a=0,m=h.length;a<m;a++)h[a]=f.charCodeAt(a);return h},g.buf2string=function(f,h){var a,m,w,A,P=h||f.length,S=new Array(P*2);for(m=0,a=0;a<P;){if(w=f[a++],w<128){S[m++]=w;continue}if(A=u[w],A>4){S[m++]=65533,a+=A-1;continue}for(w&=A===2?31:A===3?15:7;A>1&&a<P;)w=w<<6|f[a++]&63,A--;if(A>1){S[m++]=65533;continue}w<65536?S[m++]=w:(w-=65536,S[m++]=55296|w>>10&1023,S[m++]=56320|w&1023)}return c(S,m)},g.utf8border=function(f,h){var a;for(h=h||f.length,h>f.length&&(h=f.length),a=h-1;a>=0&&(f[a]&192)===128;)a--;return a<0||a===0?h:a+u[f[a]]>h?a:h}},{"./common":5}],7:[function(k,C,g){"use strict";function p(T,y,u,l){for(var c=T&65535|0,f=T>>>16&65535|0,h=0;u!==0;){h=u>2e3?2e3:u,u-=h;do c=c+y[l++]|0,f=f+c|0;while(--h);c%=65521,f%=65521}return c|f<<16|0}C.exports=p},{}],8:[function(k,C,g){"use strict";function p(){for(var u,l=[],c=0;c<256;c++){u=c;for(var f=0;f<8;f++)u=u&1?3988292384^u>>>1:u>>>1;l[c]=u}return l}var T=p();function y(u,l,c,f){var h=T,a=f+c;u^=-1;for(var m=f;m<a;m++)u=u>>>8^h[(u^l[m])&255];return u^-1}C.exports=y},{}],9:[function(k,C,g){"use strict";var p=k("../utils/common"),T=k("./trees"),y=k("./adler32"),u=k("./crc32"),l=k("./messages"),c=0,f=1,h=3,a=4,m=5,w=0,A=1,P=-2,S=-3,I=-5,le=-1,Z=1,N=2,X=3,M=4,H=0,W=2,U=8,z=9,G=15,ee=8,V=29,re=256,oe=re+1+V,K=30,ne=19,_e=2*oe+1,we=15,Y=3,ve=258,se=ve+Y+1,ze=32,Ce=42,xe=69,de=73,Pe=91,me=103,ie=113,ce=666,te=1,ye=2,De=3,Re=4,ae=3;function Se(e,d){return e.msg=l[d],d}function We(e){return(e<<1)-(e>4?9:0)}function Oe(e){for(var d=e.length;--d>=0;)e[d]=0}function Te(e){var d=e.state,_=d.pending;_>e.avail_out&&(_=e.avail_out),_!==0&&(p.arraySet(e.output,d.pending_buf,d.pending_out,_,e.next_out),e.next_out+=_,d.pending_out+=_,e.total_out+=_,e.avail_out-=_,d.pending-=_,d.pending===0&&(d.pending_out=0))}function ue(e,d){T._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,d),e.block_start=e.strstart,Te(e.strm)}function q(e,d){e.pending_buf[e.pending++]=d}function Fe(e,d){e.pending_buf[e.pending++]=d>>>8&255,e.pending_buf[e.pending++]=d&255}function Xe(e,d,_,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,p.arraySet(d,e.input,e.next_in,i,_),e.state.wrap===1?e.adler=y(e.adler,d,i,_):e.state.wrap===2&&(e.adler=u(e.adler,d,i,_)),e.next_in+=i,e.total_in+=i,i)}function Ke(e,d){var _=e.max_chain_length,r=e.strstart,i,s,B=e.prev_length,O=e.nice_match,L=e.strstart>e.w_size-se?e.strstart-(e.w_size-se):0,$=e.window,Ie=e.w_mask,he=e.prev,J=e.strstart+ve,pe=$[r+B-1],Ee=$[r+B];e.prev_length>=e.good_match&&(_>>=2),O>e.lookahead&&(O=e.lookahead);do if(i=d,!($[i+B]!==Ee||$[i+B-1]!==pe||$[i]!==$[r]||$[++i]!==$[r+1])){r+=2,i++;do;while($[++r]===$[++i]&&$[++r]===$[++i]&&$[++r]===$[++i]&&$[++r]===$[++i]&&$[++r]===$[++i]&&$[++r]===$[++i]&&$[++r]===$[++i]&&$[++r]===$[++i]&&r<J);if(s=ve-(J-r),r=J-ve,s>B){if(e.match_start=d,B=s,s>=O)break;pe=$[r+B-1],Ee=$[r+B]}}while((d=he[d&Ie])>L&&--_!==0);return B<=e.lookahead?B:e.lookahead}function Le(e){var d=e.w_size,_,r,i,s,B;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-se)){p.arraySet(e.window,e.window,d,d,0),e.match_start-=d,e.strstart-=d,e.block_start-=d,r=e.hash_size,_=r;do i=e.head[--_],e.head[_]=i>=d?i-d:0;while(--r);r=d,_=r;do i=e.prev[--_],e.prev[_]=i>=d?i-d:0;while(--r);s+=d}if(e.strm.avail_in===0)break;if(r=Xe(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=r,e.lookahead+e.insert>=Y)for(B=e.strstart-e.insert,e.ins_h=e.window[B],e.ins_h=(e.ins_h<<e.hash_shift^e.window[B+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[B+Y-1])&e.hash_mask,e.prev[B&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=B,B++,e.insert--,!(e.lookahead+e.insert<Y)););}while(e.lookahead<se&&e.strm.avail_in!==0)}function Ge(e,d){var _=65535;for(_>e.pending_buf_size-5&&(_=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Le(e),e.lookahead===0&&d===c)return te;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+_;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,ue(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-se&&(ue(e,!1),e.strm.avail_out===0))return te}return e.insert=0,d===a?(ue(e,!0),e.strm.avail_out===0?De:Re):(e.strstart>e.block_start&&(ue(e,!1),e.strm.avail_out===0),te)}function je(e,d){for(var _,r;;){if(e.lookahead<se){if(Le(e),e.lookahead<se&&d===c)return te;if(e.lookahead===0)break}if(_=0,e.lookahead>=Y&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Y-1])&e.hash_mask,_=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),_!==0&&e.strstart-_<=e.w_size-se&&(e.match_length=Ke(e,_)),e.match_length>=Y)if(r=T._tr_tally(e,e.strstart-e.match_start,e.match_length-Y),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Y){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Y-1])&e.hash_mask,_=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ue(e,!1),e.strm.avail_out===0))return te}return e.insert=e.strstart<Y-1?e.strstart:Y-1,d===a?(ue(e,!0),e.strm.avail_out===0?De:Re):e.last_lit&&(ue(e,!1),e.strm.avail_out===0)?te:ye}function Be(e,d){for(var _,r,i;;){if(e.lookahead<se){if(Le(e),e.lookahead<se&&d===c)return te;if(e.lookahead===0)break}if(_=0,e.lookahead>=Y&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Y-1])&e.hash_mask,_=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Y-1,_!==0&&e.prev_length<e.max_lazy_match&&e.strstart-_<=e.w_size-se&&(e.match_length=Ke(e,_),e.match_length<=5&&(e.strategy===Z||e.match_length===Y&&e.strstart-e.match_start>4096)&&(e.match_length=Y-1)),e.prev_length>=Y&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Y,r=T._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-Y),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Y-1])&e.hash_mask,_=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Y-1,e.strstart++,r&&(ue(e,!1),e.strm.avail_out===0))return te}else if(e.match_available){if(r=T._tr_tally(e,0,e.window[e.strstart-1]),r&&ue(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return te}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=T._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Y-1?e.strstart:Y-1,d===a?(ue(e,!0),e.strm.avail_out===0?De:Re):e.last_lit&&(ue(e,!1),e.strm.avail_out===0)?te:ye}function Qe(e,d){for(var _,r,i,s,B=e.window;;){if(e.lookahead<=ve){if(Le(e),e.lookahead<=ve&&d===c)return te;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Y&&e.strstart>0&&(i=e.strstart-1,r=B[i],r===B[++i]&&r===B[++i]&&r===B[++i])){s=e.strstart+ve;do;while(r===B[++i]&&r===B[++i]&&r===B[++i]&&r===B[++i]&&r===B[++i]&&r===B[++i]&&r===B[++i]&&r===B[++i]&&i<s);e.match_length=ve-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Y?(_=T._tr_tally(e,1,e.match_length-Y),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(_=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),_&&(ue(e,!1),e.strm.avail_out===0))return te}return e.insert=0,d===a?(ue(e,!0),e.strm.avail_out===0?De:Re):e.last_lit&&(ue(e,!1),e.strm.avail_out===0)?te:ye}function Ye(e,d){for(var _;;){if(e.lookahead===0&&(Le(e),e.lookahead===0)){if(d===c)return te;break}if(e.match_length=0,_=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,_&&(ue(e,!1),e.strm.avail_out===0))return te}return e.insert=0,d===a?(ue(e,!0),e.strm.avail_out===0?De:Re):e.last_lit&&(ue(e,!1),e.strm.avail_out===0)?te:ye}function ke(e,d,_,r,i){this.good_length=e,this.max_lazy=d,this.nice_length=_,this.max_chain=r,this.func=i}var Ne;Ne=[new ke(0,0,0,0,Ge),new ke(4,4,8,4,je),new ke(4,5,16,8,je),new ke(4,6,32,32,je),new ke(4,4,16,16,Be),new ke(8,16,32,32,Be),new ke(8,16,128,128,Be),new ke(8,32,128,256,Be),new ke(32,128,258,1024,Be),new ke(32,258,258,4096,Be)];function Ve(e){e.window_size=2*e.w_size,Oe(e.head),e.max_lazy_match=Ne[e.level].max_lazy,e.good_match=Ne[e.level].good_length,e.nice_match=Ne[e.level].nice_length,e.max_chain_length=Ne[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Y-1,e.match_available=0,e.ins_h=0}function n(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=U,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new p.Buf16(_e*2),this.dyn_dtree=new p.Buf16((2*K+1)*2),this.bl_tree=new p.Buf16((2*ne+1)*2),Oe(this.dyn_ltree),Oe(this.dyn_dtree),Oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new p.Buf16(we+1),this.heap=new p.Buf16(2*oe+1),Oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new p.Buf16(2*oe+1),Oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(e){var d;return!e||!e.state?Se(e,P):(e.total_in=e.total_out=0,e.data_type=W,d=e.state,d.pending=0,d.pending_out=0,d.wrap<0&&(d.wrap=-d.wrap),d.status=d.wrap?Ce:ie,e.adler=d.wrap===2?0:1,d.last_flush=c,T._tr_init(d),w)}function E(e){var d=x(e);return d===w&&Ve(e.state),d}function F(e,d){return!e||!e.state||e.state.wrap!==2?P:(e.state.gzhead=d,w)}function o(e,d,_,r,i,s){if(!e)return P;var B=1;if(d===le&&(d=6),r<0?(B=0,r=-r):r>15&&(B=2,r-=16),i<1||i>z||_!==U||r<8||r>15||d<0||d>9||s<0||s>M)return Se(e,P);r===8&&(r=9);var O=new n;return e.state=O,O.strm=e,O.wrap=B,O.gzhead=null,O.w_bits=r,O.w_size=1<<O.w_bits,O.w_mask=O.w_size-1,O.hash_bits=i+7,O.hash_size=1<<O.hash_bits,O.hash_mask=O.hash_size-1,O.hash_shift=~~((O.hash_bits+Y-1)/Y),O.window=new p.Buf8(O.w_size*2),O.head=new p.Buf16(O.hash_size),O.prev=new p.Buf16(O.w_size),O.lit_bufsize=1<<i+6,O.pending_buf_size=O.lit_bufsize*4,O.pending_buf=new p.Buf8(O.pending_buf_size),O.d_buf=1*O.lit_bufsize,O.l_buf=3*O.lit_bufsize,O.level=d,O.strategy=s,O.method=_,E(e)}function v(e,d){return o(e,d,U,G,ee,H)}function t(e,d){var _,r,i,s;if(!e||!e.state||d>m||d<0)return e?Se(e,P):P;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===ce&&d!==a)return Se(e,e.avail_out===0?I:P);if(r.strm=e,_=r.last_flush,r.last_flush=d,r.status===Ce)if(r.wrap===2)e.adler=0,q(r,31),q(r,139),q(r,8),r.gzhead?(q(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),q(r,r.gzhead.time&255),q(r,r.gzhead.time>>8&255),q(r,r.gzhead.time>>16&255),q(r,r.gzhead.time>>24&255),q(r,r.level===9?2:r.strategy>=N||r.level<2?4:0),q(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(q(r,r.gzhead.extra.length&255),q(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=u(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=xe):(q(r,0),q(r,0),q(r,0),q(r,0),q(r,0),q(r,r.level===9?2:r.strategy>=N||r.level<2?4:0),q(r,ae),r.status=ie);else{var B=U+(r.w_bits-8<<4)<<8,O=-1;r.strategy>=N||r.level<2?O=0:r.level<6?O=1:r.level===6?O=2:O=3,B|=O<<6,r.strstart!==0&&(B|=ze),B+=31-B%31,r.status=ie,Fe(r,B),r.strstart!==0&&(Fe(r,e.adler>>>16),Fe(r,e.adler&65535)),e.adler=1}if(r.status===xe)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=u(e.adler,r.pending_buf,r.pending-i,i)),Te(e),i=r.pending,r.pending===r.pending_buf_size));)q(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=u(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=de)}else r.status=de;if(r.status===de)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=u(e.adler,r.pending_buf,r.pending-i,i)),Te(e),i=r.pending,r.pending===r.pending_buf_size)){s=1;break}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,q(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=u(e.adler,r.pending_buf,r.pending-i,i)),s===0&&(r.gzindex=0,r.status=Pe)}else r.status=Pe;if(r.status===Pe)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=u(e.adler,r.pending_buf,r.pending-i,i)),Te(e),i=r.pending,r.pending===r.pending_buf_size)){s=1;break}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,q(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=u(e.adler,r.pending_buf,r.pending-i,i)),s===0&&(r.status=me)}else r.status=me;if(r.status===me&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Te(e),r.pending+2<=r.pending_buf_size&&(q(r,e.adler&255),q(r,e.adler>>8&255),e.adler=0,r.status=ie)):r.status=ie),r.pending!==0){if(Te(e),e.avail_out===0)return r.last_flush=-1,w}else if(e.avail_in===0&&We(d)<=We(_)&&d!==a)return Se(e,I);if(r.status===ce&&e.avail_in!==0)return Se(e,I);if(e.avail_in!==0||r.lookahead!==0||d!==c&&r.status!==ce){var L=r.strategy===N?Ye(r,d):r.strategy===X?Qe(r,d):Ne[r.level].func(r,d);if((L===De||L===Re)&&(r.status=ce),L===te||L===De)return e.avail_out===0&&(r.last_flush=-1),w;if(L===ye&&(d===f?T._tr_align(r):d!==m&&(T._tr_stored_block(r,0,0,!1),d===h&&(Oe(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Te(e),e.avail_out===0))return r.last_flush=-1,w}return d!==a?w:r.wrap<=0?A:(r.wrap===2?(q(r,e.adler&255),q(r,e.adler>>8&255),q(r,e.adler>>16&255),q(r,e.adler>>24&255),q(r,e.total_in&255),q(r,e.total_in>>8&255),q(r,e.total_in>>16&255),q(r,e.total_in>>24&255)):(Fe(r,e.adler>>>16),Fe(r,e.adler&65535)),Te(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?w:A)}function b(e){var d;return!e||!e.state?P:(d=e.state.status,d!==Ce&&d!==xe&&d!==de&&d!==Pe&&d!==me&&d!==ie&&d!==ce?Se(e,P):(e.state=null,d===ie?Se(e,S):w))}function j(e,d){var _=d.length,r,i,s,B,O,L,$,Ie;if(!e||!e.state||(r=e.state,B=r.wrap,B===2||B===1&&r.status!==Ce||r.lookahead))return P;for(B===1&&(e.adler=y(e.adler,d,_,0)),r.wrap=0,_>=r.w_size&&(B===0&&(Oe(r.head),r.strstart=0,r.block_start=0,r.insert=0),Ie=new p.Buf8(r.w_size),p.arraySet(Ie,d,_-r.w_size,r.w_size,0),d=Ie,_=r.w_size),O=e.avail_in,L=e.next_in,$=e.input,e.avail_in=_,e.next_in=0,e.input=d,Le(r);r.lookahead>=Y;){i=r.strstart,s=r.lookahead-(Y-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+Y-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--s);r.strstart=i,r.lookahead=Y-1,Le(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Y-1,r.match_available=0,e.next_in=L,e.input=$,e.avail_in=O,r.wrap=B,w}g.deflateInit=v,g.deflateInit2=o,g.deflateReset=E,g.deflateResetKeep=x,g.deflateSetHeader=F,g.deflate=t,g.deflateEnd=b,g.deflateSetDictionary=j,g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":8,"./messages":10,"./trees":11}],10:[function(k,C,g){"use strict";C.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(k,C,g){"use strict";var p=k("../utils/common"),T=4,y=0,u=1,l=2;function c(n){for(var x=n.length;--x>=0;)n[x]=0}var f=0,h=1,a=2,m=3,w=258,A=29,P=256,S=P+1+A,I=30,le=19,Z=2*S+1,N=15,X=16,M=7,H=256,W=16,U=17,z=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,K=new Array((S+2)*2);c(K);var ne=new Array(I*2);c(ne);var _e=new Array(oe);c(_e);var we=new Array(w-m+1);c(we);var Y=new Array(A);c(Y);var ve=new Array(I);c(ve);function se(n,x,E,F,o){this.static_tree=n,this.extra_bits=x,this.extra_base=E,this.elems=F,this.max_length=o,this.has_stree=n&&n.length}var ze,Ce,xe;function de(n,x){this.dyn_tree=n,this.max_code=0,this.stat_desc=x}function Pe(n){return n<256?_e[n]:_e[256+(n>>>7)]}function me(n,x){n.pending_buf[n.pending++]=x&255,n.pending_buf[n.pending++]=x>>>8&255}function ie(n,x,E){n.bi_valid>X-E?(n.bi_buf|=x<<n.bi_valid&65535,me(n,n.bi_buf),n.bi_buf=x>>X-n.bi_valid,n.bi_valid+=E-X):(n.bi_buf|=x<<n.bi_valid&65535,n.bi_valid+=E)}function ce(n,x,E){ie(n,E[x*2],E[x*2+1])}function te(n,x){var E=0;do E|=n&1,n>>>=1,E<<=1;while(--x>0);return E>>>1}function ye(n){n.bi_valid===16?(me(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)}function De(n,x){var E=x.dyn_tree,F=x.max_code,o=x.stat_desc.static_tree,v=x.stat_desc.has_stree,t=x.stat_desc.extra_bits,b=x.stat_desc.extra_base,j=x.stat_desc.max_length,e,d,_,r,i,s,B=0;for(r=0;r<=N;r++)n.bl_count[r]=0;for(E[n.heap[n.heap_max]*2+1]=0,e=n.heap_max+1;e<Z;e++)d=n.heap[e],r=E[E[d*2+1]*2+1]+1,r>j&&(r=j,B++),E[d*2+1]=r,!(d>F)&&(n.bl_count[r]++,i=0,d>=b&&(i=t[d-b]),s=E[d*2],n.opt_len+=s*(r+i),v&&(n.static_len+=s*(o[d*2+1]+i)));if(B!==0){do{for(r=j-1;n.bl_count[r]===0;)r--;n.bl_count[r]--,n.bl_count[r+1]+=2,n.bl_count[j]--,B-=2}while(B>0);for(r=j;r!==0;r--)for(d=n.bl_count[r];d!==0;)_=n.heap[--e],!(_>F)&&(E[_*2+1]!==r&&(n.opt_len+=(r-E[_*2+1])*E[_*2],E[_*2+1]=r),d--)}}function Re(n,x,E){var F=new Array(N+1),o=0,v,t;for(v=1;v<=N;v++)F[v]=o=o+E[v-1]<<1;for(t=0;t<=x;t++){var b=n[t*2+1];b!==0&&(n[t*2]=te(F[b]++,b))}}function ae(){var n,x,E,F,o,v=new Array(N+1);for(E=0,F=0;F<A-1;F++)for(Y[F]=E,n=0;n<1<<G[F];n++)we[E++]=F;for(we[E-1]=F,o=0,F=0;F<16;F++)for(ve[F]=o,n=0;n<1<<ee[F];n++)_e[o++]=F;for(o>>=7;F<I;F++)for(ve[F]=o<<7,n=0;n<1<<ee[F]-7;n++)_e[256+o++]=F;for(x=0;x<=N;x++)v[x]=0;for(n=0;n<=143;)K[n*2+1]=8,n++,v[8]++;for(;n<=255;)K[n*2+1]=9,n++,v[9]++;for(;n<=279;)K[n*2+1]=7,n++,v[7]++;for(;n<=287;)K[n*2+1]=8,n++,v[8]++;for(Re(K,S+1,v),n=0;n<I;n++)ne[n*2+1]=5,ne[n*2]=te(n,5);ze=new se(K,G,P+1,S,N),Ce=new se(ne,ee,0,I,N),xe=new se(new Array(0),V,0,le,M)}function Se(n){var x;for(x=0;x<S;x++)n.dyn_ltree[x*2]=0;for(x=0;x<I;x++)n.dyn_dtree[x*2]=0;for(x=0;x<le;x++)n.bl_tree[x*2]=0;n.dyn_ltree[H*2]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0}function We(n){n.bi_valid>8?me(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0}function Oe(n,x,E,F){We(n),F&&(me(n,E),me(n,~E)),p.arraySet(n.pending_buf,n.window,x,E,n.pending),n.pending+=E}function Te(n,x,E,F){var o=x*2,v=E*2;return n[o]<n[v]||n[o]===n[v]&&F[x]<=F[E]}function ue(n,x,E){for(var F=n.heap[E],o=E<<1;o<=n.heap_len&&(o<n.heap_len&&Te(x,n.heap[o+1],n.heap[o],n.depth)&&o++,!Te(x,F,n.heap[o],n.depth));)n.heap[E]=n.heap[o],E=o,o<<=1;n.heap[E]=F}function q(n,x,E){var F,o,v=0,t,b;if(n.last_lit!==0)do F=n.pending_buf[n.d_buf+v*2]<<8|n.pending_buf[n.d_buf+v*2+1],o=n.pending_buf[n.l_buf+v],v++,F===0?ce(n,o,x):(t=we[o],ce(n,t+P+1,x),b=G[t],b!==0&&(o-=Y[t],ie(n,o,b)),F--,t=Pe(F),ce(n,t,E),b=ee[t],b!==0&&(F-=ve[t],ie(n,F,b)));while(v<n.last_lit);ce(n,H,x)}function Fe(n,x){var E=x.dyn_tree,F=x.stat_desc.static_tree,o=x.stat_desc.has_stree,v=x.stat_desc.elems,t,b,j=-1,e;for(n.heap_len=0,n.heap_max=Z,t=0;t<v;t++)E[t*2]!==0?(n.heap[++n.heap_len]=j=t,n.depth[t]=0):E[t*2+1]=0;for(;n.heap_len<2;)e=n.heap[++n.heap_len]=j<2?++j:0,E[e*2]=1,n.depth[e]=0,n.opt_len--,o&&(n.static_len-=F[e*2+1]);for(x.max_code=j,t=n.heap_len>>1;t>=1;t--)ue(n,E,t);e=v;do t=n.heap[1],n.heap[1]=n.heap[n.heap_len--],ue(n,E,1),b=n.heap[1],n.heap[--n.heap_max]=t,n.heap[--n.heap_max]=b,E[e*2]=E[t*2]+E[b*2],n.depth[e]=(n.depth[t]>=n.depth[b]?n.depth[t]:n.depth[b])+1,E[t*2+1]=E[b*2+1]=e,n.heap[1]=e++,ue(n,E,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],De(n,x),Re(E,j,n.bl_count)}function Xe(n,x,E){var F,o=-1,v,t=x[0*2+1],b=0,j=7,e=4;for(t===0&&(j=138,e=3),x[(E+1)*2+1]=65535,F=0;F<=E;F++)v=t,t=x[(F+1)*2+1],!(++b<j&&v===t)&&(b<e?n.bl_tree[v*2]+=b:v!==0?(v!==o&&n.bl_tree[v*2]++,n.bl_tree[W*2]++):b<=10?n.bl_tree[U*2]++:n.bl_tree[z*2]++,b=0,o=v,t===0?(j=138,e=3):v===t?(j=6,e=3):(j=7,e=4))}function Ke(n,x,E){var F,o=-1,v,t=x[0*2+1],b=0,j=7,e=4;for(t===0&&(j=138,e=3),F=0;F<=E;F++)if(v=t,t=x[(F+1)*2+1],!(++b<j&&v===t)){if(b<e)do ce(n,v,n.bl_tree);while(--b!==0);else v!==0?(v!==o&&(ce(n,v,n.bl_tree),b--),ce(n,W,n.bl_tree),ie(n,b-3,2)):b<=10?(ce(n,U,n.bl_tree),ie(n,b-3,3)):(ce(n,z,n.bl_tree),ie(n,b-11,7));b=0,o=v,t===0?(j=138,e=3):v===t?(j=6,e=3):(j=7,e=4)}}function Le(n){var x;for(Xe(n,n.dyn_ltree,n.l_desc.max_code),Xe(n,n.dyn_dtree,n.d_desc.max_code),Fe(n,n.bl_desc),x=le-1;x>=3&&n.bl_tree[re[x]*2+1]===0;x--);return n.opt_len+=3*(x+1)+5+5+4,x}function Ge(n,x,E,F){var o;for(ie(n,x-257,5),ie(n,E-1,5),ie(n,F-4,4),o=0;o<F;o++)ie(n,n.bl_tree[re[o]*2+1],3);Ke(n,n.dyn_ltree,x-1),Ke(n,n.dyn_dtree,E-1)}function je(n){var x=4093624447,E;for(E=0;E<=31;E++,x>>>=1)if(x&1&&n.dyn_ltree[E*2]!==0)return y;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return u;for(E=32;E<P;E++)if(n.dyn_ltree[E*2]!==0)return u;return y}var Be=!1;function Qe(n){Be||(ae(),Be=!0),n.l_desc=new de(n.dyn_ltree,ze),n.d_desc=new de(n.dyn_dtree,Ce),n.bl_desc=new de(n.bl_tree,xe),n.bi_buf=0,n.bi_valid=0,Se(n)}function Ye(n,x,E,F){ie(n,(f<<1)+(F?1:0),3),Oe(n,x,E,!0)}function ke(n){ie(n,h<<1,3),ce(n,H,K),ye(n)}function Ne(n,x,E,F){var o,v,t=0;n.level>0?(n.strm.data_type===l&&(n.strm.data_type=je(n)),Fe(n,n.l_desc),Fe(n,n.d_desc),t=Le(n),o=n.opt_len+3+7>>>3,v=n.static_len+3+7>>>3,v<=o&&(o=v)):o=v=E+5,E+4<=o&&x!==-1?Ye(n,x,E,F):n.strategy===T||v===o?(ie(n,(h<<1)+(F?1:0),3),q(n,K,ne)):(ie(n,(a<<1)+(F?1:0),3),Ge(n,n.l_desc.max_code+1,n.d_desc.max_code+1,t+1),q(n,n.dyn_ltree,n.dyn_dtree)),Se(n),F&&We(n)}function Ve(n,x,E){return n.pending_buf[n.d_buf+n.last_lit*2]=x>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=x&255,n.pending_buf[n.l_buf+n.last_lit]=E&255,n.last_lit++,x===0?n.dyn_ltree[E*2]++:(n.matches++,x--,n.dyn_ltree[(we[E]+P+1)*2]++,n.dyn_dtree[Pe(x)*2]++),n.last_lit===n.lit_bufsize-1}g._tr_init=Qe,g._tr_stored_block=Ye,g._tr_flush_block=Ne,g._tr_tally=Ve,g._tr_align=ke},{"../utils/common":5}],12:[function(k,C,g){"use strict";function p(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}C.exports=p},{}]},{},[3])(3)})});var pt=nt((gt,st)=>{(function(D){if(typeof gt=="object"&&typeof st<"u")st.exports=D();else if(typeof define=="function"&&define.amd)define([],D);else{var R;typeof window<"u"?R=window:typeof global<"u"?R=global:typeof self<"u"?R=self:R=this,R.plantumlEncoder=D()}})(function(){var D,R,Q;return function(){function k(C,g,p){function T(l,c){if(!g[l]){if(!C[l]){var f=typeof Ue=="function"&&Ue;if(!c&&f)return f(l,!0);if(y)return y(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var a=g[l]={exports:{}};C[l][0].call(a.exports,function(m){var w=C[l][1][m];return T(w||m)},a,a.exports,k,C,g,p)}return g[l].exports}for(var y=typeof Ue=="function"&&Ue,u=0;u<p.length;u++)T(p[u]);return T}return k}()({1:[function(k,C,g){"use strict";var p=k("pako/lib/inflate.js");C.exports=function(T){return p.inflateRaw(T,{to:"string"})}},{"pako/lib/inflate.js":4}],2:[function(k,C,g){"use strict";function p(y){var u=y.charCodeAt(0);return y==="_"?63:y==="-"?62:u>=97?u-61:u>=65?u-55:u>=48?u-48:"?"}function T(y){var u=p(y[0]),l=p(y[1]),c=p(y[2]),f=p(y[3]),h=u<<2|l>>4&63,a=l<<4&240|c>>2&15,m=c<<6&192|f&63;return[h,a,m]}C.exports=function(y){var u="",l=0;for(l=0;l<y.length;l+=4){var c=T(y.substring(l,l+4));u=u+String.fromCharCode(c[0]),u=u+String.fromCharCode(c[1]),u=u+String.fromCharCode(c[2])}return u}},{}],3:[function(k,C,g){"use strict";var p=k("./inflate"),T=k("./decode64");C.exports.decode=function(y){var u=T(y);return p(u)}},{"./decode64":2,"./inflate":1}],4:[function(k,C,g){"use strict";var p=k("./zlib/inflate"),T=k("./utils/common"),y=k("./utils/strings"),u=k("./zlib/constants"),l=k("./zlib/messages"),c=k("./zlib/zstream"),f=k("./zlib/gzheader"),h=Object.prototype.toString;function a(A){if(!(this instanceof a))return new a(A);this.options=T.assign({chunkSize:16384,windowBits:0,to:""},A||{});var P=this.options;P.raw&&P.windowBits>=0&&P.windowBits<16&&(P.windowBits=-P.windowBits,P.windowBits===0&&(P.windowBits=-15)),P.windowBits>=0&&P.windowBits<16&&!(A&&A.windowBits)&&(P.windowBits+=32),P.windowBits>15&&P.windowBits<48&&(P.windowBits&15)===0&&(P.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var S=p.inflateInit2(this.strm,P.windowBits);if(S!==u.Z_OK)throw new Error(l[S]);if(this.header=new f,p.inflateGetHeader(this.strm,this.header),P.dictionary&&(typeof P.dictionary=="string"?P.dictionary=y.string2buf(P.dictionary):h.call(P.dictionary)==="[object ArrayBuffer]"&&(P.dictionary=new Uint8Array(P.dictionary)),P.raw&&(S=p.inflateSetDictionary(this.strm,P.dictionary),S!==u.Z_OK)))throw new Error(l[S])}a.prototype.push=function(A,P){var S=this.strm,I=this.options.chunkSize,le=this.options.dictionary,Z,N,X,M,H,W=!1;if(this.ended)return!1;N=P===~~P?P:P===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof A=="string"?S.input=y.binstring2buf(A):h.call(A)==="[object ArrayBuffer]"?S.input=new Uint8Array(A):S.input=A,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new T.Buf8(I),S.next_out=0,S.avail_out=I),Z=p.inflate(S,u.Z_NO_FLUSH),Z===u.Z_NEED_DICT&&le&&(Z=p.inflateSetDictionary(this.strm,le)),Z===u.Z_BUF_ERROR&&W===!0&&(Z=u.Z_OK,W=!1),Z!==u.Z_STREAM_END&&Z!==u.Z_OK)return this.onEnd(Z),this.ended=!0,!1;S.next_out&&(S.avail_out===0||Z===u.Z_STREAM_END||S.avail_in===0&&(N===u.Z_FINISH||N===u.Z_SYNC_FLUSH))&&(this.options.to==="string"?(X=y.utf8border(S.output,S.next_out),M=S.next_out-X,H=y.buf2string(S.output,X),S.next_out=M,S.avail_out=I-M,M&&T.arraySet(S.output,S.output,X,M,0),this.onData(H)):this.onData(T.shrinkBuf(S.output,S.next_out))),S.avail_in===0&&S.avail_out===0&&(W=!0)}while((S.avail_in>0||S.avail_out===0)&&Z!==u.Z_STREAM_END);return Z===u.Z_STREAM_END&&(N=u.Z_FINISH),N===u.Z_FINISH?(Z=p.inflateEnd(this.strm),this.onEnd(Z),this.ended=!0,Z===u.Z_OK):(N===u.Z_SYNC_FLUSH&&(this.onEnd(u.Z_OK),S.avail_out=0),!0)},a.prototype.onData=function(A){this.chunks.push(A)},a.prototype.onEnd=function(A){A===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};function m(A,P){var S=new a(P);if(S.push(A,!0),S.err)throw S.msg||l[S.err];return S.result}function w(A,P){return P=P||{},P.raw=!0,m(A,P)}g.Inflate=a,g.inflate=m,g.inflateRaw=w,g.ungzip=m},{"./utils/common":5,"./utils/strings":6,"./zlib/constants":8,"./zlib/gzheader":10,"./zlib/inflate":12,"./zlib/messages":14,"./zlib/zstream":15}],5:[function(k,C,g){"use strict";var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function T(l,c){return Object.prototype.hasOwnProperty.call(l,c)}g.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var f=c.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var h in f)T(f,h)&&(l[h]=f[h])}}return l},g.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var y={arraySet:function(l,c,f,h,a){if(c.subarray&&l.subarray){l.set(c.subarray(f,f+h),a);return}for(var m=0;m<h;m++)l[a+m]=c[f+m]},flattenChunks:function(l){var c,f,h,a,m,w;for(h=0,c=0,f=l.length;c<f;c++)h+=l[c].length;for(w=new Uint8Array(h),a=0,c=0,f=l.length;c<f;c++)m=l[c],w.set(m,a),a+=m.length;return w}},u={arraySet:function(l,c,f,h,a){for(var m=0;m<h;m++)l[a+m]=c[f+m]},flattenChunks:function(l){return[].concat.apply([],l)}};g.setTyped=function(l){l?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,y)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,u))},g.setTyped(p)},{}],6:[function(k,C,g){"use strict";var p=k("./common"),T=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{T=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var u=new p.Buf8(256),l=0;l<256;l++)u[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;u[254]=u[254]=1,g.string2buf=function(f){var h,a,m,w,A,P=f.length,S=0;for(w=0;w<P;w++)a=f.charCodeAt(w),(a&64512)===55296&&w+1<P&&(m=f.charCodeAt(w+1),(m&64512)===56320&&(a=65536+(a-55296<<10)+(m-56320),w++)),S+=a<128?1:a<2048?2:a<65536?3:4;for(h=new p.Buf8(S),A=0,w=0;A<S;w++)a=f.charCodeAt(w),(a&64512)===55296&&w+1<P&&(m=f.charCodeAt(w+1),(m&64512)===56320&&(a=65536+(a-55296<<10)+(m-56320),w++)),a<128?h[A++]=a:a<2048?(h[A++]=192|a>>>6,h[A++]=128|a&63):a<65536?(h[A++]=224|a>>>12,h[A++]=128|a>>>6&63,h[A++]=128|a&63):(h[A++]=240|a>>>18,h[A++]=128|a>>>12&63,h[A++]=128|a>>>6&63,h[A++]=128|a&63);return h};function c(f,h){if(h<65534&&(f.subarray&&y||!f.subarray&&T))return String.fromCharCode.apply(null,p.shrinkBuf(f,h));for(var a="",m=0;m<h;m++)a+=String.fromCharCode(f[m]);return a}g.buf2binstring=function(f){return c(f,f.length)},g.binstring2buf=function(f){for(var h=new p.Buf8(f.length),a=0,m=h.length;a<m;a++)h[a]=f.charCodeAt(a);return h},g.buf2string=function(f,h){var a,m,w,A,P=h||f.length,S=new Array(P*2);for(m=0,a=0;a<P;){if(w=f[a++],w<128){S[m++]=w;continue}if(A=u[w],A>4){S[m++]=65533,a+=A-1;continue}for(w&=A===2?31:A===3?15:7;A>1&&a<P;)w=w<<6|f[a++]&63,A--;if(A>1){S[m++]=65533;continue}w<65536?S[m++]=w:(w-=65536,S[m++]=55296|w>>10&1023,S[m++]=56320|w&1023)}return c(S,m)},g.utf8border=function(f,h){var a;for(h=h||f.length,h>f.length&&(h=f.length),a=h-1;a>=0&&(f[a]&192)===128;)a--;return a<0||a===0?h:a+u[f[a]]>h?a:h}},{"./common":5}],7:[function(k,C,g){"use strict";function p(T,y,u,l){for(var c=T&65535|0,f=T>>>16&65535|0,h=0;u!==0;){h=u>2e3?2e3:u,u-=h;do c=c+y[l++]|0,f=f+c|0;while(--h);c%=65521,f%=65521}return c|f<<16|0}C.exports=p},{}],8:[function(k,C,g){"use strict";C.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],9:[function(k,C,g){"use strict";function p(){for(var u,l=[],c=0;c<256;c++){u=c;for(var f=0;f<8;f++)u=u&1?3988292384^u>>>1:u>>>1;l[c]=u}return l}var T=p();function y(u,l,c,f){var h=T,a=f+c;u^=-1;for(var m=f;m<a;m++)u=u>>>8^h[(u^l[m])&255];return u^-1}C.exports=y},{}],10:[function(k,C,g){"use strict";function p(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}C.exports=p},{}],11:[function(k,C,g){"use strict";var p=30,T=12;C.exports=function(u,l){var c,f,h,a,m,w,A,P,S,I,le,Z,N,X,M,H,W,U,z,G,ee,V,re,oe,K;c=u.state,f=u.next_in,oe=u.input,h=f+(u.avail_in-5),a=u.next_out,K=u.output,m=a-(l-u.avail_out),w=a+(u.avail_out-257),A=c.dmax,P=c.wsize,S=c.whave,I=c.wnext,le=c.window,Z=c.hold,N=c.bits,X=c.lencode,M=c.distcode,H=(1<<c.lenbits)-1,W=(1<<c.distbits)-1;e:do{N<15&&(Z+=oe[f++]<<N,N+=8,Z+=oe[f++]<<N,N+=8),U=X[Z&H];t:for(;;){if(z=U>>>24,Z>>>=z,N-=z,z=U>>>16&255,z===0)K[a++]=U&65535;else if(z&16){G=U&65535,z&=15,z&&(N<z&&(Z+=oe[f++]<<N,N+=8),G+=Z&(1<<z)-1,Z>>>=z,N-=z),N<15&&(Z+=oe[f++]<<N,N+=8,Z+=oe[f++]<<N,N+=8),U=M[Z&W];r:for(;;){if(z=U>>>24,Z>>>=z,N-=z,z=U>>>16&255,z&16){if(ee=U&65535,z&=15,N<z&&(Z+=oe[f++]<<N,N+=8,N<z&&(Z+=oe[f++]<<N,N+=8)),ee+=Z&(1<<z)-1,ee>A){u.msg="invalid distance too far back",c.mode=p;break e}if(Z>>>=z,N-=z,z=a-m,ee>z){if(z=ee-z,z>S&&c.sane){u.msg="invalid distance too far back",c.mode=p;break e}if(V=0,re=le,I===0){if(V+=P-z,z<G){G-=z;do K[a++]=le[V++];while(--z);V=a-ee,re=K}}else if(I<z){if(V+=P+I-z,z-=I,z<G){G-=z;do K[a++]=le[V++];while(--z);if(V=0,I<G){z=I,G-=z;do K[a++]=le[V++];while(--z);V=a-ee,re=K}}}else if(V+=I-z,z<G){G-=z;do K[a++]=le[V++];while(--z);V=a-ee,re=K}for(;G>2;)K[a++]=re[V++],K[a++]=re[V++],K[a++]=re[V++],G-=3;G&&(K[a++]=re[V++],G>1&&(K[a++]=re[V++]))}else{V=a-ee;do K[a++]=K[V++],K[a++]=K[V++],K[a++]=K[V++],G-=3;while(G>2);G&&(K[a++]=K[V++],G>1&&(K[a++]=K[V++]))}}else if((z&64)===0){U=M[(U&65535)+(Z&(1<<z)-1)];continue r}else{u.msg="invalid distance code",c.mode=p;break e}break}}else if((z&64)===0){U=X[(U&65535)+(Z&(1<<z)-1)];continue t}else if(z&32){c.mode=T;break e}else{u.msg="invalid literal/length code",c.mode=p;break e}break}}while(f<h&&a<w);G=N>>3,f-=G,N-=G<<3,Z&=(1<<N)-1,u.next_in=f,u.next_out=a,u.avail_in=f<h?5+(h-f):5-(f-h),u.avail_out=a<w?257+(w-a):257-(a-w),c.hold=Z,c.bits=N}},{}],12:[function(k,C,g){"use strict";var p=k("../utils/common"),T=k("./adler32"),y=k("./crc32"),u=k("./inffast"),l=k("./inftrees"),c=0,f=1,h=2,a=4,m=5,w=6,A=0,P=1,S=2,I=-2,le=-3,Z=-4,N=-5,X=8,M=1,H=2,W=3,U=4,z=5,G=6,ee=7,V=8,re=9,oe=10,K=11,ne=12,_e=13,we=14,Y=15,ve=16,se=17,ze=18,Ce=19,xe=20,de=21,Pe=22,me=23,ie=24,ce=25,te=26,ye=27,De=28,Re=29,ae=30,Se=31,We=32,Oe=852,Te=592,ue=15,q=ue;function Fe(o){return(o>>>24&255)+(o>>>8&65280)+((o&65280)<<8)+((o&255)<<24)}function Xe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ke(o){var v;return!o||!o.state?I:(v=o.state,o.total_in=o.total_out=v.total=0,o.msg="",v.wrap&&(o.adler=v.wrap&1),v.mode=M,v.last=0,v.havedict=0,v.dmax=32768,v.head=null,v.hold=0,v.bits=0,v.lencode=v.lendyn=new p.Buf32(Oe),v.distcode=v.distdyn=new p.Buf32(Te),v.sane=1,v.back=-1,A)}function Le(o){var v;return!o||!o.state?I:(v=o.state,v.wsize=0,v.whave=0,v.wnext=0,Ke(o))}function Ge(o,v){var t,b;return!o||!o.state||(b=o.state,v<0?(t=0,v=-v):(t=(v>>4)+1,v<48&&(v&=15)),v&&(v<8||v>15))?I:(b.window!==null&&b.wbits!==v&&(b.window=null),b.wrap=t,b.wbits=v,Le(o))}function je(o,v){var t,b;return o?(b=new Xe,o.state=b,b.window=null,t=Ge(o,v),t!==A&&(o.state=null),t):I}function Be(o){return je(o,q)}var Qe=!0,Ye,ke;function Ne(o){if(Qe){var v;for(Ye=new p.Buf32(512),ke=new p.Buf32(32),v=0;v<144;)o.lens[v++]=8;for(;v<256;)o.lens[v++]=9;for(;v<280;)o.lens[v++]=7;for(;v<288;)o.lens[v++]=8;for(l(f,o.lens,0,288,Ye,0,o.work,{bits:9}),v=0;v<32;)o.lens[v++]=5;l(h,o.lens,0,32,ke,0,o.work,{bits:5}),Qe=!1}o.lencode=Ye,o.lenbits=9,o.distcode=ke,o.distbits=5}function Ve(o,v,t,b){var j,e=o.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new p.Buf8(e.wsize)),b>=e.wsize?(p.arraySet(e.window,v,t-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(j=e.wsize-e.wnext,j>b&&(j=b),p.arraySet(e.window,v,t-b,j,e.wnext),b-=j,b?(p.arraySet(e.window,v,t-b,b,0),e.wnext=b,e.whave=e.wsize):(e.wnext+=j,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=j))),0}function n(o,v){var t,b,j,e,d,_,r,i,s,B,O,L,$,Ie,he=0,J,pe,Ee,Ae,$e,Je,ge,Me,be=new p.Buf8(4),He,Ze,ut=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!o||!o.state||!o.output||!o.input&&o.avail_in!==0)return I;t=o.state,t.mode===ne&&(t.mode=_e),d=o.next_out,j=o.output,r=o.avail_out,e=o.next_in,b=o.input,_=o.avail_in,i=t.hold,s=t.bits,B=_,O=r,Me=A;e:for(;;)switch(t.mode){case M:if(t.wrap===0){t.mode=_e;break}for(;s<16;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if(t.wrap&2&&i===35615){t.check=0,be[0]=i&255,be[1]=i>>>8&255,t.check=y(t.check,be,2,0),i=0,s=0,t.mode=H;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((i&255)<<8)+(i>>8))%31){o.msg="incorrect header check",t.mode=ae;break}if((i&15)!==X){o.msg="unknown compression method",t.mode=ae;break}if(i>>>=4,s-=4,ge=(i&15)+8,t.wbits===0)t.wbits=ge;else if(ge>t.wbits){o.msg="invalid window size",t.mode=ae;break}t.dmax=1<<ge,o.adler=t.check=1,t.mode=i&512?oe:ne,i=0,s=0;break;case H:for(;s<16;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if(t.flags=i,(t.flags&255)!==X){o.msg="unknown compression method",t.mode=ae;break}if(t.flags&57344){o.msg="unknown header flags set",t.mode=ae;break}t.head&&(t.head.text=i>>8&1),t.flags&512&&(be[0]=i&255,be[1]=i>>>8&255,t.check=y(t.check,be,2,0)),i=0,s=0,t.mode=W;case W:for(;s<32;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}t.head&&(t.head.time=i),t.flags&512&&(be[0]=i&255,be[1]=i>>>8&255,be[2]=i>>>16&255,be[3]=i>>>24&255,t.check=y(t.check,be,4,0)),i=0,s=0,t.mode=U;case U:for(;s<16;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}t.head&&(t.head.xflags=i&255,t.head.os=i>>8),t.flags&512&&(be[0]=i&255,be[1]=i>>>8&255,t.check=y(t.check,be,2,0)),i=0,s=0,t.mode=z;case z:if(t.flags&1024){for(;s<16;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}t.length=i,t.head&&(t.head.extra_len=i),t.flags&512&&(be[0]=i&255,be[1]=i>>>8&255,t.check=y(t.check,be,2,0)),i=0,s=0}else t.head&&(t.head.extra=null);t.mode=G;case G:if(t.flags&1024&&(L=t.length,L>_&&(L=_),L&&(t.head&&(ge=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),p.arraySet(t.head.extra,b,e,L,ge)),t.flags&512&&(t.check=y(t.check,b,L,e)),_-=L,e+=L,t.length-=L),t.length))break e;t.length=0,t.mode=ee;case ee:if(t.flags&2048){if(_===0)break e;L=0;do ge=b[e+L++],t.head&&ge&&t.length<65536&&(t.head.name+=String.fromCharCode(ge));while(ge&&L<_);if(t.flags&512&&(t.check=y(t.check,b,L,e)),_-=L,e+=L,ge)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=V;case V:if(t.flags&4096){if(_===0)break e;L=0;do ge=b[e+L++],t.head&&ge&&t.length<65536&&(t.head.comment+=String.fromCharCode(ge));while(ge&&L<_);if(t.flags&512&&(t.check=y(t.check,b,L,e)),_-=L,e+=L,ge)break e}else t.head&&(t.head.comment=null);t.mode=re;case re:if(t.flags&512){for(;s<16;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if(i!==(t.check&65535)){o.msg="header crc mismatch",t.mode=ae;break}i=0,s=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),o.adler=t.check=0,t.mode=ne;break;case oe:for(;s<32;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}o.adler=t.check=Fe(i),i=0,s=0,t.mode=K;case K:if(t.havedict===0)return o.next_out=d,o.avail_out=r,o.next_in=e,o.avail_in=_,t.hold=i,t.bits=s,S;o.adler=t.check=1,t.mode=ne;case ne:if(v===m||v===w)break e;case _e:if(t.last){i>>>=s&7,s-=s&7,t.mode=ye;break}for(;s<3;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}switch(t.last=i&1,i>>>=1,s-=1,i&3){case 0:t.mode=we;break;case 1:if(Ne(t),t.mode=xe,v===w){i>>>=2,s-=2;break e}break;case 2:t.mode=se;break;case 3:o.msg="invalid block type",t.mode=ae}i>>>=2,s-=2;break;case we:for(i>>>=s&7,s-=s&7;s<32;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if((i&65535)!==(i>>>16^65535)){o.msg="invalid stored block lengths",t.mode=ae;break}if(t.length=i&65535,i=0,s=0,t.mode=Y,v===w)break e;case Y:t.mode=ve;case ve:if(L=t.length,L){if(L>_&&(L=_),L>r&&(L=r),L===0)break e;p.arraySet(j,b,e,L,d),_-=L,e+=L,r-=L,d+=L,t.length-=L;break}t.mode=ne;break;case se:for(;s<14;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if(t.nlen=(i&31)+257,i>>>=5,s-=5,t.ndist=(i&31)+1,i>>>=5,s-=5,t.ncode=(i&15)+4,i>>>=4,s-=4,t.nlen>286||t.ndist>30){o.msg="too many length or distance symbols",t.mode=ae;break}t.have=0,t.mode=ze;case ze:for(;t.have<t.ncode;){for(;s<3;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}t.lens[ut[t.have++]]=i&7,i>>>=3,s-=3}for(;t.have<19;)t.lens[ut[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,He={bits:t.lenbits},Me=l(c,t.lens,0,19,t.lencode,0,t.work,He),t.lenbits=He.bits,Me){o.msg="invalid code lengths set",t.mode=ae;break}t.have=0,t.mode=Ce;case Ce:for(;t.have<t.nlen+t.ndist;){for(;he=t.lencode[i&(1<<t.lenbits)-1],J=he>>>24,pe=he>>>16&255,Ee=he&65535,!(J<=s);){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if(Ee<16)i>>>=J,s-=J,t.lens[t.have++]=Ee;else{if(Ee===16){for(Ze=J+2;s<Ze;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if(i>>>=J,s-=J,t.have===0){o.msg="invalid bit length repeat",t.mode=ae;break}ge=t.lens[t.have-1],L=3+(i&3),i>>>=2,s-=2}else if(Ee===17){for(Ze=J+3;s<Ze;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}i>>>=J,s-=J,ge=0,L=3+(i&7),i>>>=3,s-=3}else{for(Ze=J+7;s<Ze;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}i>>>=J,s-=J,ge=0,L=11+(i&127),i>>>=7,s-=7}if(t.have+L>t.nlen+t.ndist){o.msg="invalid bit length repeat",t.mode=ae;break}for(;L--;)t.lens[t.have++]=ge}}if(t.mode===ae)break;if(t.lens[256]===0){o.msg="invalid code -- missing end-of-block",t.mode=ae;break}if(t.lenbits=9,He={bits:t.lenbits},Me=l(f,t.lens,0,t.nlen,t.lencode,0,t.work,He),t.lenbits=He.bits,Me){o.msg="invalid literal/lengths set",t.mode=ae;break}if(t.distbits=6,t.distcode=t.distdyn,He={bits:t.distbits},Me=l(h,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,He),t.distbits=He.bits,Me){o.msg="invalid distances set",t.mode=ae;break}if(t.mode=xe,v===w)break e;case xe:t.mode=de;case de:if(_>=6&&r>=258){o.next_out=d,o.avail_out=r,o.next_in=e,o.avail_in=_,t.hold=i,t.bits=s,u(o,O),d=o.next_out,j=o.output,r=o.avail_out,e=o.next_in,b=o.input,_=o.avail_in,i=t.hold,s=t.bits,t.mode===ne&&(t.back=-1);break}for(t.back=0;he=t.lencode[i&(1<<t.lenbits)-1],J=he>>>24,pe=he>>>16&255,Ee=he&65535,!(J<=s);){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if(pe&&(pe&240)===0){for(Ae=J,$e=pe,Je=Ee;he=t.lencode[Je+((i&(1<<Ae+$e)-1)>>Ae)],J=he>>>24,pe=he>>>16&255,Ee=he&65535,!(Ae+J<=s);){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}i>>>=Ae,s-=Ae,t.back+=Ae}if(i>>>=J,s-=J,t.back+=J,t.length=Ee,pe===0){t.mode=te;break}if(pe&32){t.back=-1,t.mode=ne;break}if(pe&64){o.msg="invalid literal/length code",t.mode=ae;break}t.extra=pe&15,t.mode=Pe;case Pe:if(t.extra){for(Ze=t.extra;s<Ze;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}t.length+=i&(1<<t.extra)-1,i>>>=t.extra,s-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=me;case me:for(;he=t.distcode[i&(1<<t.distbits)-1],J=he>>>24,pe=he>>>16&255,Ee=he&65535,!(J<=s);){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if((pe&240)===0){for(Ae=J,$e=pe,Je=Ee;he=t.distcode[Je+((i&(1<<Ae+$e)-1)>>Ae)],J=he>>>24,pe=he>>>16&255,Ee=he&65535,!(Ae+J<=s);){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}i>>>=Ae,s-=Ae,t.back+=Ae}if(i>>>=J,s-=J,t.back+=J,pe&64){o.msg="invalid distance code",t.mode=ae;break}t.offset=Ee,t.extra=pe&15,t.mode=ie;case ie:if(t.extra){for(Ze=t.extra;s<Ze;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}t.offset+=i&(1<<t.extra)-1,i>>>=t.extra,s-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){o.msg="invalid distance too far back",t.mode=ae;break}t.mode=ce;case ce:if(r===0)break e;if(L=O-r,t.offset>L){if(L=t.offset-L,L>t.whave&&t.sane){o.msg="invalid distance too far back",t.mode=ae;break}L>t.wnext?(L-=t.wnext,$=t.wsize-L):$=t.wnext-L,L>t.length&&(L=t.length),Ie=t.window}else Ie=j,$=d-t.offset,L=t.length;L>r&&(L=r),r-=L,t.length-=L;do j[d++]=Ie[$++];while(--L);t.length===0&&(t.mode=de);break;case te:if(r===0)break e;j[d++]=t.length,r--,t.mode=de;break;case ye:if(t.wrap){for(;s<32;){if(_===0)break e;_--,i|=b[e++]<<s,s+=8}if(O-=r,o.total_out+=O,t.total+=O,O&&(o.adler=t.check=t.flags?y(t.check,j,O,d-O):T(t.check,j,O,d-O)),O=r,(t.flags?i:Fe(i))!==t.check){o.msg="incorrect data check",t.mode=ae;break}i=0,s=0}t.mode=De;case De:if(t.wrap&&t.flags){for(;s<32;){if(_===0)break e;_--,i+=b[e++]<<s,s+=8}if(i!==(t.total&4294967295)){o.msg="incorrect length check",t.mode=ae;break}i=0,s=0}t.mode=Re;case Re:Me=P;break e;case ae:Me=le;break e;case Se:return Z;case We:default:return I}return o.next_out=d,o.avail_out=r,o.next_in=e,o.avail_in=_,t.hold=i,t.bits=s,(t.wsize||O!==o.avail_out&&t.mode<ae&&(t.mode<ye||v!==a))&&Ve(o,o.output,o.next_out,O-o.avail_out)?(t.mode=Se,Z):(B-=o.avail_in,O-=o.avail_out,o.total_in+=B,o.total_out+=O,t.total+=O,t.wrap&&O&&(o.adler=t.check=t.flags?y(t.check,j,O,o.next_out-O):T(t.check,j,O,o.next_out-O)),o.data_type=t.bits+(t.last?64:0)+(t.mode===ne?128:0)+(t.mode===xe||t.mode===Y?256:0),(B===0&&O===0||v===a)&&Me===A&&(Me=N),Me)}function x(o){if(!o||!o.state)return I;var v=o.state;return v.window&&(v.window=null),o.state=null,A}function E(o,v){var t;return!o||!o.state||(t=o.state,(t.wrap&2)===0)?I:(t.head=v,v.done=!1,A)}function F(o,v){var t=v.length,b,j,e;return!o||!o.state||(b=o.state,b.wrap!==0&&b.mode!==K)?I:b.mode===K&&(j=1,j=T(j,v,t,0),j!==b.check)?le:(e=Ve(o,v,t,t),e?(b.mode=Se,Z):(b.havedict=1,A))}g.inflateReset=Le,g.inflateReset2=Ge,g.inflateResetKeep=Ke,g.inflateInit=Be,g.inflateInit2=je,g.inflate=n,g.inflateEnd=x,g.inflateGetHeader=E,g.inflateSetDictionary=F,g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":9,"./inffast":11,"./inftrees":13}],13:[function(k,C,g){"use strict";var p=k("../utils/common"),T=15,y=852,u=592,l=0,c=1,f=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];C.exports=function(P,S,I,le,Z,N,X,M){var H=M.bits,W=0,U=0,z=0,G=0,ee=0,V=0,re=0,oe=0,K=0,ne=0,_e,we,Y,ve,se,ze=null,Ce=0,xe,de=new p.Buf16(T+1),Pe=new p.Buf16(T+1),me=null,ie=0,ce,te,ye;for(W=0;W<=T;W++)de[W]=0;for(U=0;U<le;U++)de[S[I+U]]++;for(ee=H,G=T;G>=1&&de[G]===0;G--);if(ee>G&&(ee=G),G===0)return Z[N++]=1<<24|64<<16|0,Z[N++]=1<<24|64<<16|0,M.bits=1,0;for(z=1;z<G&&de[z]===0;z++);for(ee<z&&(ee=z),oe=1,W=1;W<=T;W++)if(oe<<=1,oe-=de[W],oe<0)return-1;if(oe>0&&(P===l||G!==1))return-1;for(Pe[1]=0,W=1;W<T;W++)Pe[W+1]=Pe[W]+de[W];for(U=0;U<le;U++)S[I+U]!==0&&(X[Pe[S[I+U]]++]=U);if(P===l?(ze=me=X,xe=19):P===c?(ze=h,Ce-=257,me=a,ie-=257,xe=256):(ze=m,me=w,xe=-1),ne=0,U=0,W=z,se=N,V=ee,re=0,Y=-1,K=1<<ee,ve=K-1,P===c&&K>y||P===f&&K>u)return 1;for(;;){ce=W-re,X[U]<xe?(te=0,ye=X[U]):X[U]>xe?(te=me[ie+X[U]],ye=ze[Ce+X[U]]):(te=96,ye=0),_e=1<<W-re,we=1<<V,z=we;do we-=_e,Z[se+(ne>>re)+we]=ce<<24|te<<16|ye|0;while(we!==0);for(_e=1<<W-1;ne&_e;)_e>>=1;if(_e!==0?(ne&=_e-1,ne+=_e):ne=0,U++,--de[W]===0){if(W===G)break;W=S[I+X[U]]}if(W>ee&&(ne&ve)!==Y){for(re===0&&(re=ee),se+=z,V=W-re,oe=1<<V;V+re<G&&(oe-=de[V+re],!(oe<=0));)V++,oe<<=1;if(K+=1<<V,P===c&&K>y||P===f&&K>u)return 1;Y=ne&ve,Z[Y]=ee<<24|V<<16|se-N|0}}return ne!==0&&(Z[se+ne]=W-re<<24|64<<16|0),M.bits=ee,0}},{"../utils/common":5}],14:[function(k,C,g){"use strict";C.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(k,C,g){"use strict";function p(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}C.exports=p},{}]},{},[3])(3)})});var xt=nt((Lr,mt)=>{mt.exports={encode:vt().encode,decode:pt().decode}});function ct(D){let R=atob(D),Q=R.length,k=new Uint8Array(Q);for(let C=0;C<Q;C++)k[C]=R.charCodeAt(C);return k}function it(D){typeof D=="string"&&(D=new TextEncoder().encode(D));let R="",Q=D.byteLength;for(let k=0;k<Q;k++)R+=String.fromCharCode(D[k]);return btoa(R)}var qe=D=>{throw new Error("Not initialized yet")},ft=typeof window>"u"&&typeof globalThis.WebSocketPair>"u";typeof Deno>"u"&&(self.Deno={args:[],build:{arch:"x86_64"},env:{get(){}}});var ot=new Map,at=0;ft&&(globalThis.syscall=async(D,...R)=>await new Promise((Q,k)=>{at++,ot.set(at,{resolve:Q,reject:k}),qe({type:"sys",id:at,name:D,args:R})}));function ht(D,R,Q){ft&&(qe=Q,self.addEventListener("message",k=>{(async()=>{let C=k.data;switch(C.type){case"inv":{let g=D[C.name];if(!g)throw new Error(`Function not loaded: ${C.name}`);try{let p=await Promise.resolve(g(...C.args||[]));qe({type:"invr",id:C.id,result:p})}catch(p){console.error("An exception was thrown as a result of invoking function",C.name,"error:",p.message),qe({type:"invr",id:C.id,error:p.message})}}break;case"sysr":{let g=C.id,p=ot.get(g);if(!p)throw Error("Invalid request id");ot.delete(g),C.error?p.reject(new Error(C.error)):p.resolve(C.result)}break}})().catch(console.error)}),qe({type:"manifest",manifest:R}))}async function Dt(D,R){if(typeof D!="string"){let Q=new Uint8Array(await D.arrayBuffer()),k=Q.length>0?it(Q):void 0;R={method:D.method,headers:Object.fromEntries(D.headers.entries()),base64Body:k},D=D.url}return syscall("sandboxFetch.fetch",D,R)}globalThis.nativeFetch=globalThis.fetch;function Rt(){globalThis.fetch=async function(D,R){let Q=R&&R.body?it(new Uint8Array(await new Response(R.body).arrayBuffer())):void 0,k=await Dt(D,R&&{method:R.method,headers:R.headers,base64Body:Q});return new Response(k.base64Body?ct(k.base64Body):null,{status:k.status,headers:k.headers})}}ft&&Rt();typeof self>"u"&&(self={syscall:()=>{throw new Error("Not implemented here")}});function fe(D,...R){return globalThis.syscall(D,...R)}var et={};dt(et,{getConfig:()=>Kt,getMode:()=>It,getVersion:()=>Ht,invokeCommand:()=>Bt,invokeFunction:()=>Mt,listCommands:()=>Nt,listSyscalls:()=>Zt,reloadPlugs:()=>Ut,wipeClient:()=>jt});function Mt(D,...R){return fe("system.invokeFunction",D,...R)}function Bt(D,R){return fe("system.invokeCommand",D,R)}function Nt(){return fe("system.listCommands")}function Zt(){return fe("system.listSyscalls")}function Ut(){return fe("system.reloadPlugs")}function It(){return fe("system.getMode")}function Ht(){return fe("system.getVersion")}function Kt(D,R=void 0){return fe("system.getConfig",D,R)}function jt(D=!1){return fe("system.wipeClient",D)}var tt={};dt(tt,{run:()=>qt});function qt(D,R){return fe("shell.run",D,R)}var bt=zt(xt());async function ir(D,R){try{let Q=btoa(R),{stdout:k,stderr:C}=await tt.run(D,[Q]);return console.log(C),k}catch(Q){return console.error("PUML generation failed",Q),Q}}async function ar(D,R){try{let Q=bt.default.encode(R),k="/";D.endsWith("/")&&(k="");let C=D+k+"plantuml/svg/"+Q;console.log("silverbullet-plantuml: requesting",C);let g=await fetch(C);if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);return await g.text()}catch(Q){return console.error("PUML generation failed",Q),Q}}async function wt(D){let R=await et.getConfig("plantuml",{serverurl:"https://plantuml.com"}),Q=D;return"serverurl"in R?Q=await ar(R.serverurl,D):"generator"in R?Q=await ir(R.generator,D):console.error("silverbullet-plantuml: Configure either serverurl or generator"),{html:`<pre id="plantuml">${Q}</pre>`,script:`
    document.addEventListener("click", () => {
      api({type: "blur"});
    });
    `}}var yt={plantumlWidget:wt},kt={name:"plantuml",version:.1,imports:["https://get.silverbullet.md/global.plug.json"],requiredPermissions:["shell","fetch"],functions:{plantumlWidget:{path:"./plantuml.ts:widget",codeWidget:"plantuml"}},assets:{}},Ir={manifest:kt,functionMapping:yt};ht(yt,kt,self.postMessage);export{Ir as plug};
